<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<title>рж╕рзНржмрж╕рзНрждрзАржкрж╛рж▓рзА ржжрж╢ржХрж░рзНржорж╛ ржнрж╛ржирзНржбрж╛рж░</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body {margin:0; font-family:'Segoe UI',kalpurush,'Noto Sans Bengali',sans-serif; background:#f6f8fb;}
#chatbot-root{max-width:420px;margin:0 auto;box-shadow:0 2px 18px #e0eafe19;}
.cb-header{
  background:linear-gradient(90deg,#475ff8 60%,#3de4d2 95%);
  color:#fff;display:flex;align-items:center;gap:11px;
  padding:18px 0 13px 0;border-radius:0 0 19px 19px;position:relative;
}
.cblogo{font-size:2.1em;margin:0 7px 0 15px;}
.cb-title{font-size:1.08em;font-weight:900;letter-spacing:.02em;}
.cb-langbtn{
  position:absolute;right:13px;top:19px;font-size:1.01em;padding:6px 14px;
  background:#f8fcff;color:#2578ee;border:none;border-radius:80px;font-weight:bold;cursor:pointer;
  border:1.1px solid #def8fb;box-shadow:0 1.5px 6px #36d8ee19;transition:.15s;
}
.cb-langbtn:active{background:#d0eafd;}
.cb-body{background:#fff;min-height:70vh;padding:0 0 65px 0;border-radius:0 0 20px 20px;}
.cb-messages{padding:13px 10px 7px 10px;overflow-y:auto;max-height:59vh;}
.msg-bubble{display:flex;align-items:flex-end;gap:8px;margin-bottom:10px;}
.msg-bot{justify-content:flex-start;}
.msg-user{justify-content:flex-end;}
.bubble-inner{max-width:75vw;background:#f4f5fe;padding:10px 16px;border-radius:17px;
  font-size:1.03em;line-height:1.5;color:#25357d;box-shadow:0 1.5px 6px #8db8fc1d;}
.bubble-bot{background:#f2fdff;color:#035191;}
.bubble-user{background:#eaeafe;color:#3b266d;}
.bubble-anim{animation:botin .41s cubic-bezier(.31,.63,.81,1.45);}
@keyframes botin{0%{opacity:0;transform:translateY(25px);}100%{opacity:1;transform:none;}}
.cb-suggestions{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0 0 9px;}
.cb-sugbtn{background:#f9faff;border:1px solid #79d4ef;color:#317cba;font-size:.99em;padding:7px 13px 8px 13px;border-radius:16px;cursor:pointer;transition:.13s;}
.cb-sugbtn:active{background:#e0f4ff;}
.cb-typing{display:flex;align-items:center;gap:6px;margin-top:2px;margin-bottom:12px;font-style:italic;}
.dotty{width:7px;height:7px;border-radius:50%;background:#8cd5ef;animation:d1 .7s infinite alternate;}
.dotty:nth-child(2){animation-delay:.13s}
.dotty:nth-child(3){animation-delay:.28s}
@keyframes d1{to{background:#4cb7e2}}
.cb-footer{position:fixed;left:0;right:0;bottom:0;max-width:420px;margin:auto;background:#fcfcff;padding:13px 5px 17px 8px;display:flex;gap:7px;border-radius:0 0 15px 15px;}
#userInput{flex:1;font-size:1.09em;padding:12px 13px;border-radius:15px;border:1.2px solid #eae6f6;}
.cb-sendbtn{padding:13px 23px 12px 23px;border:none;background:linear-gradient(95deg,#49b9f8,#3de4d2 90%);color:#fff;border-radius:14px;font-weight:700;font-size:1.19em;cursor:pointer;}
.cb-sendbtn:active{background:#1cc6af;}
@media (max-width:475px){
  #chatbot-root{max-width:100vw;}
  .cb-sendbtn{padding:13px 12px}
}
.status-msg{font-size:.98em;margin-top:9px;color:#1cb1e6;display:block;}
.cb-apikey{border:none;padding:8px 15px;margin:0 0 12px 0;border-radius:12px;background:#eaf3fe;color:#1b77d1;font-size:.99em;margin-left:14px;}
</style>
</head>
<body>
<div id="chatbot-root">
  <div class="cb-header">
      <span class="cblogo">ЁЯПк</span>
      <span class="cb-title">рж╕рзНржмрж╕рзНрждрзАржкрж╛рж▓рзА ржжрж╢ржХрж░рзНржорж╛ ржнрж╛ржирзНржбрж╛рж░</span>
      <button class="cb-langbtn" onclick="toggleLang()"><span id="langBtnLab">EN</span></button>
  </div>
  <div class="cb-body">
    <div id="cbMessages" class="cb-messages"></div>
    <div id="cbSuggestions" class="cb-suggestions"></div>
    <div id="cbTyping" class="cb-typing" style="display:none;"><span class="dotty"></span><span class="dotty"></span><span class="dotty"></span></div>
    <div class="status-msg" style="display:none" id="cbStatus"></div>
  </div>
  <div class="cb-footer">
    <input type="text" id="userInput" placeholder="ржЖржкржирж╛рж░ ржкрзНрж░рж╢рзНржи рж▓рж┐ржЦрзБржи..." autocomplete="off" onkeydown="if(event.key==='Enter'){sendMsg();}">
    <button class="cb-sendbtn" onclick="sendMsg()">тЮд</button>
  </div>
</div>
<div id="apiKeyWrapper" style="display:none;margin-top:26px;text-align:center;">
  <input id="aiApiKey" class="cb-apikey" placeholder="OpenAI API Key ржжрж┐ржи (ржРржЪрзНржЫрж┐ржХ)">
  <div style="font-size:.92em;color:#888;">ржПржХржЯрж┐ ржХрзА ржлрзНрж░рж┐ ржкрж╛ржмрзЗржи:<br><a href="https://platform.openai.com" target="_blank">OpenAI platform</a></div>
</div>
<div style="text-align:center;margin:10px 0 0 0;">
  
</div>
<script>
let lang = 'bn';
const msgBox = document.getElementById('cbMessages');
const suggestions = {
  bn: [
    "ржжрзЛржХрж╛ржи ржХрзЛржерж╛ржпрж╝?", "ржХржпрж╝ржЯрж╛ржпрж╝ ржЦрзЛрж▓рзЗ?", "ржХрж┐ ржХрж┐ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝?", "ржЕржирж▓рж╛ржЗржи ржЕрж░рзНржбрж╛рж░?", "ржбрзЗрж▓рж┐ржнрж╛рж░рж┐?", "рж▓рзЛржХрзЗрж╢ржи", "UPI?"
  ],
  en: [
    "Where is the shop?", "Opening time?", "What do you sell?", "Online order?", "Delivery?", "Location?", "UPI?", "Sets/combo available?"
  ]
};

const FAQ = [
  {
    triggers: ["ржжрзЛржХрж╛ржи ржХрзЛржерж╛ржпрж╝", "ржарж┐ржХрж╛ржирж╛", "location", "address", "ржХрзЛржерж╛ржпрж╝,"],
    bn: "рж╣рж╛рж╕ржирж╛ржмрж╛ржж ржкрзБрж░рж╛рждржи ржмрж╛ржЬрж╛рж░ (рж╕рзБржнрж╛рж╖ ржоржпрж╝ржжрж╛ржи ржПрж░ ржкрж╛рж╢рзЗ), ржЙрждрзНрждрж░ рзирзк ржкрж░ржЧржирж╛",
    en: "Hasnabad Old Bazaar (beside Subhash Moydan), North 24 Parganas"
  },
  {
    triggers: ["ржжрзЛржХрж╛ржи", "ржХржпрж╝ржЯрж╛ржпрж╝ ржЦрзЛрж▓рзЗ", "ржХржЯрж╛ ржерзЗржХрзЗ ржХржЯрж╛", "ржХржЦржи ржЦрзЛрж▓рзЗ", "opening time", "open", "closing"],
    bn: "ржжрзЛржХрж╛ржи ржкрзНрж░рждрж┐ржжрж┐ржи рж╕ржХрж╛рж▓ ржЖржЯржЯрж╛ ржерзЗржХрзЗ рж░рж╛ржд ржжрж╢ржЯрж╛ ржкрж░рзНржпржирзНржд ржЦрзЛрж▓рж╛ ржерж╛ржХрзЗред",
    en: "We are open every day from 8am to 10pm."
  },
  {
    triggers: ["ржкрзНрж░рждрж┐ржжрж┐ржи ржЦрзЛрж▓рж╛", "holiday", "ржЖржЬ ржмржирзНржз"],
    bn: "рж╣рзНржпрж╛ржБ, ржжрзЛржХрж╛ржи ржкрзНрж░рждрж┐ржжрж┐ржи ржЦрзЛрж▓рж╛ ржерж╛ржХрзЗред",
    en: "Yes, the shop is open every day."
  },
  {
    triggers: ["ржжрзЛржХрж╛ржирзЗрж░ ржирж╛ржо", "store name", "shop name", "name"],
    bn: "рж╕рзНржмрж╕рзНрждрзАржкрж╛рж▓рзА ржжрж╢ржХрж░рзНржорж╛ ржнрж╛ржирзНржбрж╛рж░",
    en: "Swastipali Dashkarma Bhandar"
  },
  {
    triggers: ["ржХрж┐ ржХрж┐ ржкрж╛ржУржпрж╝рж╛", "ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝", "ржХрзА ржХрзА", "products", "What do you sell", "ржжрзНрж░ржмрзНржп", "ржХрзА ржХрж┐ ржЬрж┐ржирж┐рж╕"],
    bn: "рж╕рзНржмрж╕рзНрждрзАржкрж╛рж▓рзА ржжрж╢ржХрж░рзНржорж╛ ржнрж╛ржирзНржбрж╛рж░рзЗ ржмрж┐ржнрж┐ржирзНржи ржкрзВржЬрж╛рж░ ржжрж╢ржХрж░рзНржорж╛ ржжрзНрж░ржмрзНржпрж╛ржжрж┐, ржкрзНрж░рждрж┐ржорж╛ рж╕рж╛ржЬрж╕ржЬрзНржЬрж╛, ржЧрзЛржкрж╛рж▓рзЗрж░ рж╕рж╛ржЬрж╕ржЬрзНржЬрж╛, ржмрж┐ржмрж╛рж╣, ржЕржирзНржиржкрзНрж░рж╛рж╢ржи, рж╢рзНрж░рж╛ржжрзНржзрзЗрж░ ржжрзНрж░ржмрзНржпрж╛ржжрж┐ рж╕рзБрж▓ржн ржорзВрж▓рзНржпрзЗ ржкрж╛ржЗржХрж╛рж░рж┐ ржУ ржЦрзБржЪрж░рж╛ ржкрзЗржпрж╝рзЗ ржпрж╛ржмрзЗржиред ржкрзВржЬрж╛ рж╣рзЛржХ ржЕржержмрж╛ ржмрж┐ржмрж╛рж╣ рж╕ржм ржзрж░ржирзЗрж░ ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржжрзНрж░ржмрзНржпрж╛ржжрж┐ ржкрзЗржпрж╝рзЗ ржпрж╛ржмрзЗржиред",
    en: "We offer various puja dashkarma items, idol decorations, Gopal accessories, marriage/annaprashan/sradha essentials at wholesale & retail. For every fest or wedding, all necessary items are available."
  },
  {
    triggers: ["ржХрж┐ржнрж╛ржмрзЗ ржкрзМржБржЫрж╛ржм", "how to reach", "ржпрж╛ржм", "ржЧрж╛ржбрж╝рж┐рждрзЗ", "ржЧрж╛ржбрж╝рж┐рждрзЗ ржХрж┐ржнрж╛ржмрзЗ", "ржЧрж╛ржбрж╝рж┐", "train"],
    bn: "ржЯрзНрж░рзЗржирзЗ: рж╣рж╛рж╕ржирж╛ржмрж╛ржж рж╕рзНржЯрзЗрж╢ржи ржерзЗржХрзЗ ржЯрзЛржЯрзЛ ржзрж░рзЗ рж╣рж╛рж╕ржирж╛ржмрж╛ржж ржкрзБрж░рж╛рждржи ржмрж╛ржЬрж╛рж░ (рж╕рзБржнрж╛рж╖ ржоржпрж╝ржжрж╛ржи), ржЕржержмрж╛ ржЯрж╛ржХрж┐ рж░рзЛржб рж╕рзНржЯрзЗрж╢ржи ржерзЗржХрзЗржУ ржЖрж╕рж╛ ржпрж╛ржпрж╝ред ржЧрж╛рзЬрж┐рждрзЗ: ржерзБржмрж╛рж░ ржорзЛржбрж╝тАУржЪрзМрж░ржЩрзНржЧрзАтАУрж╣рж╛рж╕ржирж╛ржмрж╛ржж ржжрзЗржмрзАрж░ ржорзЛржбрж╝тАУрж╣рж╛рж╕ржирж╛ржмрж╛ржж ржкрзБрж░рж╛рждржи ржмрж╛ржЬрж╛рж░тАУрж╕рзБржнрж╛рж╖ ржоржпрж╝ржжрж╛ржирзЗрж░ ржирж┐ржХржЯред (ржХрж╛ржЫрзЗрж░ рж╕рзНржЯрзЗрж╢ржи тАУ рж╣рж╛рж╕ржирж╛ржмрж╛ржж)",
    en: "By train: From Hasnabad station, take a Toto to Hasnabad Old Bazaar (Subhash Moydan); also reachable from Taki Road station. By car: Thuba MoreтАУChourangiтАУHasnabad Debir MoreтАУHasnabad Old BazaarтАУnear Subhash Moydan."
  },
  {
    triggers: ["ржзрзВржк", "ржзрзБржирзЛ", "ржкрзНрж░ржжрзАржк", "incense", "lamp"],
    bn: "рж╣рзНржпрж╛ржБ, рж╕рзБржЧржирзНржзрж┐ ржзрзВржк, ржзрзБржирзЛ, ржкрзНрж░ржжрзАржк ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ред",
    en: "Yes, incense sticks, dhuno and lamps are available."
  },
  {
    triggers: ["ржЕржирж▓рж╛ржЗржи ржЕрж░рзНржбрж╛рж░", "order online", "online order", "order", "ржбрзЗрж▓рж┐ржнрж╛рж░рж┐", "delivery"],
    bn: "ржжрзБржГржЦрж┐ржд, ржЖржкрж╛рждржд ржЖржорж░рж╛ ржбрзЗрж▓рж┐ржнрж╛рж░рж┐ ржкрзНрж░ржжрж╛ржи ржХрж░рж┐ ржирж╛ред",
    en: "Sorry, currently we do not provide delivery."
  },
  {
    triggers: ["ржпрзЛржЧрж╛ржпрзЛржЧ", "contact", "call", "рж╣рзЛржпрж╝рж╛ржЯрж╕ржЕрзНржпрж╛ржк", "whatsapp"],
    bn: "ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯрзЗ ржжрзЗржУржпрж╝рж╛ ржХрж▓ ржмрж╛ рж╣рзЛржпрж╝рж╛ржЯрж╕ржЕрзНржпрж╛ржк ржмрж╛ржЯржи ржерзЗржХрзЗ ржЖржорж╛ржжрзЗрж░ рж╕рж╛ржерзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржиред",
    en: "Please contact us via the Call or WhatsApp button on our website."
  },
  {
    triggers: ["рж▓рзЛржХрзЗрж╢ржи", "location", "map", "ржЧрзБржЧрж▓ ржорзНржпрж╛ржк", "google map"],
    bn: "ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯрзЗ рж▓рзЛржХрзЗрж╢ржи ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ ржЖржорж╛ржжрзЗрж░ ржЕржмрж╕рзНржерж╛ржи ржЬрж╛ржирждрзЗ ржкрж╛рж░ржмрзЗржиред ржЧрзБржЧрж▓ ржорзНржпрж╛ржкрзЗржУ рж▓рзЛржХрзЗрж╢ржи ржжрзЗржУрзЯрж╛ ржЖржЫрзЗред",
    en: "Click the location button on our website to find us. We are also on Google Maps."
  },
  {
    triggers: ["ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯ", "website", "site", "catalog", "ржХрзНржпрж╛ржЯрж╛рж▓ржЧ"],
    bn: "рж╣рзНржпрж╛ржБ, ржЖржорж╛ржжрзЗрж░ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯ ржЖржЫрзЗтАФржПржЦрж╛ржирзЗ ржмрж┐рж╢рзЗрж╖ ржХрж╛рж▓рзЗржХрж╢ржи ржжрзЗржЦрждрзЗ ржкрж╛рж░ржмрзЗржиред ржХрж┐ржирждрзЗ рж╣рж▓рзЗ ржжржпрж╝рж╛ ржХрж░рзЗ ржжрзЛржХрж╛ржирзЗ ржЖрж╕рзБржиред",
    en: "Yes, we have a website for viewing our special collection, but for purchase please visit our shop."
  },
  {
    triggers: ["ржЕржирж▓рж╛ржЗржи ржкрзЗржорзЗржирзНржЯ", "upi", "payment", "paytm", "online payment", "digital payment", "qr"],
    bn: "рж╣рзНржпрж╛ржБ, ржЕржирж▓рж╛ржЗржирзЗ ржЖржорж╛ржжрзЗрж░ UPI ржЖржЫрзЗред рж╣рзЛржпрж╝рж╛ржЯрж╕ржЕрзНржпрж╛ржкрзЗ ржорзЗрж╕рзЗржЬ ржХрж░рж▓рзЗ ржкрзЗржорзЗржирзНржЯ ржХрж┐ржЙржЖрж░ ржкрж╛ржарж┐ржпрж╝рзЗ ржжрзЗржмред",
    en: "Yes, UPI and online payment available. Message us on WhatsApp for the payment QR code."
  },
  {
    triggers: ["рж▓ржХрзНрж╖рзНржорзА ржкрзБржЬрзЛ", "puja items", "ржкрзБржЬрзЛрж░ рж╕рж╛ржоржЧрзНрж░рзА", "puja set", "mala", "ржмрж╛рждрж┐", "lamp", "set"],
    bn: "рж╣рзНржпрж╛ржБ, ржПржЦрж╛ржирзЗ рж╕ржм ржзрж░ржирзЗрж░ ржжрж╢ржХрж░рзНржорж╛ ржжрзНрж░ржмрзНржпрж╛ржжрж┐ рждржерж╛ ржкрзНрж░ржжрзАржк, ржмрж╛рждрж┐, ржорж╛рж▓рж╛ ржкрзЗржпрж╝рзЗ ржпрж╛ржмрзЗржиред",
    en: "Yes, all types of dashkarma items including lamp, garland, etc. are available here."
  },
  {
    triggers: ["ржЕрж╕рзНрждрзНрж░", "ржарж╛ржХрзБрж░рзЗрж░ ржЕрж╕рзНрждрзНрж░", "idol weapon", "weapon", "arms"],
    bn: "рж╣рзНржпрж╛ржБ, ржарж╛ржХрзБрж░рзЗрж░ ржЕрж╕рзНрждрзНрж░ рж╕рзЗржЯ ржкрзЗржпрж╝рзЗ ржпрж╛ржмрзЗржиред",
    en: "Yes, idol weapon (arms) sets are available."
  },
  {
    triggers: ["ржорж╛ржЯрж┐", "ржХрж▓рж╕рж┐", "рж╣рж╛ржбрж╝рж┐", "pot", "ржХрзБржорзЛрж░", "рж╣рж╛ржбрж╝рж┐ ржХрж▓рж╕рж┐"],
    bn: "рж╣рзНржпрж╛ржБ, ржорж╛ржЯрж┐рж░ ржХрж▓рж╕рж┐, рж╣рж╛ржбрж╝рж┐ ржкрзНрж░ржнрзГрждрж┐ ржкрзЗржпрж╝рзЗ ржпрж╛ржмрзЗржиред",
    en: "Yes, clay pots, kalshi, haris etc. are available."
  },
  {
    triggers: ["ржарж╛ржХрзБрж░рзЗрж░ ржХрж╛ржкржбрж╝", "idol dress", "cloth", "ржХрж╛ржкржбрж╝"],
    bn: "рж╣рзНржпрж╛ржБ, ржмрж┐ржнрж┐ржирзНржи ржбрж┐ржЬрж╛ржЗржирзЗрж░ ржарж╛ржХрзБрж░рзЗрж░ ржХрж╛ржкржбрж╝/ржбрзНрж░рзЗрж╕ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ред",
    en: "Yes, idol dresses and various designs of cloth are available."
  },
  {
    triggers: ["ржмрж╛ржбрж╝рж┐рж░ ржкрзБржЬрзЛ", "puja samagri", "dashkarma", "home puja", "home items"],
    bn: "рж╣рзНржпрж╛ржБ, ржмрж╛ржбрж╝рж┐рж░ ржкрзВржЬрзЛрж░ ржпрж╛ржмрждрзАржпрж╝ ржжрж╢ржХрж░рзНржорж╛ ржжрзНрж░ржмрзНржпрж╛ржжрж┐ ржкрзЗржпрж╝рзЗ ржпрж╛ржмрзЗржиред",
    en: "Yes, all home puja dashkarma items are available."
  },
  {
    triggers: ["ржлрж░рзНржж", "list", "puja list", "requirement"],
    bn: "рж╣рзНржпрж╛ржБ, ржкрзВржЬрж╛рж░ ржЬржирзНржп ржлрж░рзНржж ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ред",
    en: "Yes, you can get a puja list (ford) here."
  },
  {
    triggers: ["ржкрзБрж░рзЛрж╣рж┐ржд", "priest", "ржкрзБрж░рзЛрж╣рж┐ржд ржкрж╛ржм", "ржХрж░ржм", "priest for puja"],
    bn: "рж╣рзНржпрж╛ржБ, ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рж▓рзЗ ржкрзБрж░рзЛрж╣рж┐рждржУ ржкрж╛ржмрзЗржиред",
    en: "Yes, we can help you find a priest."
  },
  {
    triggers: ["ржЧрзЛржкрж╛рж▓рзЗрж░ ржмрж╕ржи", "gopal dress", "ржорзБржХрзБржЯ", "ржЧрзЛржкрж╛рж▓", "gopal accessories"],
    bn: "рж╣рзНржпрж╛ржБ, ржЧрзЛржкрж╛рж▓рзЗрж░ ржмрж╕ржи, ржорзБржХрзБржЯ, рж╕рж╛ржЬрж╕ржЬрзНржЬрж╛ ржмрж┐ржнрж┐ржирзНржи ржбрж┐ржЬрж╛ржЗржирзЗ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ред ржЖржорж╛ржжрзЗрж░ ржХрзНржпрж╛ржЯрж╛рж▓ржЧрзЗ ржжрзЗржЦрзБржиред",
    en: "Yes, Gopal's dresses, crown and accessories in various designs are availableтАФsee our catalog."
  },
  {
    triggers: ["UPI", "ржЕржирж▓рж╛ржЗржи ржкрзЗржорзЗржирзНржЯ", "digital payment"],
    bn: "рж╣рзНржпрж╛ржБ, ржЕржирж▓рж╛ржЗржирзЗ ржЖржорж╛ржжрзЗрж░ UPI ржЖржЫрзЗред",
    en: "Yes, we have UPI for online payment."
  },
  {
    triggers: ["ржжрж╛ржо", "price", "ржХржд", "product price"],
    bn: "ржЫржмрж┐рждрзЗ ржкржЫржирзНржжрзЗрж░ ржЬрж┐ржирж┐рж╕рзЗрж░ ржжрж╛ржо ржЬрж╛ржирждрзЗ ржЖржорж╛ржжрзЗрж░ рж╕рж╛ржерзЗ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рзБржи ржЕржержмрж╛ ржжрзЛржХрж╛ржирзЗ ржЖрж╕рзБржиред",
    en: "To know the price of any item in the photos, please contact us or visit the shop."
  },
  {
    triggers: ["ржбрзЗрж▓рж┐ржнрж╛рж░рж┐", "delivery", "home delivery", "courier"],
    bn: "ржбрзЗрж▓рж┐ржнрж╛рж░рж┐ ржмрзНржпржмрж╕рзНржерж╛ ржХржмрзЗ рж╣ржмрзЗ ржЖржкрж╛рждржд ржмрж▓рж╛ ржпрж╛ржЪрзНржЫрзЗ ржирж╛ред",
    en: "Delivery facility may be available in future; not available at this time."
  },
  {
    triggers: ["google map", "google", "maps", "location"],
    bn: "ржЧрзБржЧрж▓ ржорзНржпрж╛ржкрзЗ ржЖржорж╛ржжрзЗрж░ рж▓рзЛржХрзЗрж╢ржи ржжрзЗржУржпрж╝рж╛ ржЖржЫрзЗред",
    en: "We are present on Google Maps."
  },
  {
    triggers: ["ржирждрзБржи", "ржирждрзБржи ржкржгрзНржп", "new product", "update", "catalogue", "ржХрзНржпрж╛ржЯрж╛рж▓ржЧ"],
    bn: "ржирждрзБржи ржкржгрзНржп ржПрж▓рзЗ рж╕рзЗржЯрж┐ ржХрзНржпрж╛ржЯрж╛рж▓ржЧрзЗ ржЖржкржирж┐ ржжрзЗржЦрждрзЗ ржкрж╛ржмрзЗржиред",
    en: "When new products arrive, you can see them on our catalog."
  },
  {
    triggers: ["рж░рж┐ржЯрж╛рж░рзНржи", "рж░рж┐ржлрж╛ржирзНржб", "ржкрзНрж░ржбрж╛ржХрзНржЯ рж░рж┐ржЯрж╛рж░рзНржи", "return", "refund"],
    bn: "ржкрзНрж░рзЛржЯрж╛ржХрзНржЯ рж░рж┐ржЯрж╛рж░рзНржи рж╕ржорзНржкрж░рзНржХрж┐ржд ржкрзНрж░рж╢рзНржирзЗрж░ ржЙрждрзНрждрж░ ржжрзЗржУржпрж╝рж╛ рж╕ржорзНржнржм рж╣ржЪрзНржЫрзЗ ржирж╛ред",
    en: "We can't provide returns/refund policy at this time."
  },
  {
    triggers: ["whatsapp ржЫржмрж┐", "ржЫржмрж┐ ржкрж╛ржарж╛ржи", "image", "photo", "send picture"],
    bn: "рж╣рзНржпрж╛ржБ, WhatsApp-ржП ржЫржмрж┐ ржкрж╛ржарж╛рждрзЗ ржмрж▓рж▓рзЗ ржкрж╛ржарж╛ржирзЛ ржпрж╛ржмрзЗред",
    en: "Yes, we can send pictures via WhatsApp if you request."
  },
];

function toggleLang(){
  lang = (lang=='bn')?'en':'bn';
  document.getElementById('langBtnLab').textContent = (lang=='bn')?'EN':'BN';
  userMsg('', true);
  showSuggestions();
}
function userMsg(txt, isWelcome=false){
  if(isWelcome){
    msgBox.innerHTML = '';
    showMsg({text: (lang=='bn')? 'ЁЯСЛ рж╕рзНржмрж╛ржЧрждржо! рж╕рзНржмрж╕рзНрждрзАржкрж╛рж▓рзА ржжрж╢ржХрж░рзНржорж╛ ржнрж╛ржирзНржбрж╛рж░ ржЪрзНржпрж╛ржЯ ржмржЯрзЗ ржЖржкржирж╛рж░ ржкрзНрж░ржпрж╝рзЛржЬржирзЗ ржкрзНрж░рж╢рзНржи ржХрж░рзБржи ржмрж╛ рж╕рж╛ржЬрзЗрж╢ржи ржмрж╛ржЯржи ржЯрж┐ржкрзБржиред' : "ЁЯСЛ Welcome! This is Swastipally Dashakarma Bhandar Chatbot. Type your question or use suggestions below.", side: 'bot'});
    showSuggestions();
    return;
  }
  if(txt.trim()==='') return;
  showMsg({text:txt,side:'user'});
  getBotReply(txt);
  document.getElementById('userInput').value='';
}
function showMsg({text, side='bot'}){
  let wrap = document.createElement('div');
  wrap.className = 'msg-bubble ' + ((side==='bot')?'msg-bot':'msg-user');
  let bbl = document.createElement('div');
  bbl.className = 'bubble-inner bubble-anim ' + (side==='user'?'bubble-user':'bubble-bot');
  bbl.textContent = text;
  wrap.appendChild(bbl);
  msgBox.appendChild(wrap);
  msgBox.scrollTop = msgBox.scrollHeight+33;
}

function showSuggestions(){
  const sugDiv = document.getElementById('cbSuggestions');
  sugDiv.innerHTML='';
  suggestions[lang].forEach(s=>{
    let btn = document.createElement('button');
    btn.className = 'cb-sugbtn';
    btn.textContent = s;
    btn.onclick = ()=>{sendMsg(s)};
    sugDiv.appendChild(btn);
  });
}

function sendMsg(prefill){
  let val = prefill || document.getElementById('userInput').value;
  if(val.trim()=='') return;
  userMsg(val);
}

// FAQтАУtrigger matching; closest match
function getBotReply(q){
  document.getElementById('cbTyping').style.display='flex';
  setTimeout(()=>{
    document.getElementById('cbTyping').style.display='none';
    let qLower = q.toLowerCase();
    let found = FAQ.find(f=>f.triggers.some(t=>qLower.includes(t)));
    if(found){
      showMsg({text: found[lang], side:'bot'});
    }else{
      showMsg({text:(lang=='bn')?"ржжрзБржГржЦрж┐ржд, ржЙрждрзНрждрж░ ржирзЗржЗ! ржЕржирзНржп ржнрж╛ржмрзЗ ржХрж░рзБржи ржмрж╛ ржХрж▓/рж╣рзЛржпрж╝рж╛ржЯрж╕ржЕрзНржпрж╛ржк ржХрж░рзБржиред":"Sorry, I don't know that yet. Please rephrase or contact us.", side:'bot'});
    }
  }, 800+Math.random()*400);
}

// API KEY option (OpenAI future proof)
function showApiInput(){
  let wi=document.getElementById('apiKeyWrapper');
  if(wi.style.display=='none'||wi.style.display=='') wi.style.display='block';
  else wi.style.display='none';
}
document.getElementById('aiApiKey').onchange = function(){
  if(window.localStorage) localStorage.cbOpenApiKey = this.value.trim();
}

userMsg('',true);
</script>
</body>
</html>